import{r as v,j as x}from"./app-ixndsVVo.js";import{l as j,o as C,u as O,h as T,m as M}from"./proxy-DtCD1V8F.js";function _(t){t.values.forEach(e=>e.stop())}function A(t,e){[...e].reverse().forEach(n=>{const o=t.getVariant(n);o&&C(t,o),t.variantChildren&&t.variantChildren.forEach(s=>{A(s,e)})})}function B(t,e){if(Array.isArray(e))return A(t,e);if(typeof e=="string")return A(t,[e]);C(t,e)}function L(){const t=new Set,e={subscribe(r){return t.add(r),()=>void t.delete(r)},start(r,n){const o=[];return t.forEach(s=>{o.push(j(s,r,{transitionOverride:n}))}),Promise.all(o)},set(r){return t.forEach(n=>{B(n,r)})},stop(){t.forEach(r=>{_(r)})},mount(){return()=>{e.stop()}}};return e}function $(){const t=O(L);return T(t.mount,[]),t}const z=$;var R=new Map,l=new WeakMap,S=0,P=void 0;function W(t){return t?(l.has(t)||(S+=1,l.set(t,S.toString())),l.get(t)):"0"}function q(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?W(t.root):t[e]}`).toString()}function D(t){const e=q(t);let r=R.get(e);if(!r){const n=new Map;let o;const s=new IntersectionObserver(a=>{a.forEach(i=>{var c;const h=i.isIntersecting&&o.some(f=>i.intersectionRatio>=f);t.trackVisibility&&typeof i.isVisible>"u"&&(i.isVisible=h),(c=n.get(i.target))==null||c.forEach(f=>{f(h,i)})})},t);o=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:s,elements:n},R.set(e,r)}return r}function F(t,e,r={},n=P){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:o,observer:s,elements:a}=D(r),i=a.get(t)||[];return a.has(t)||a.set(t,i),i.push(e),s.observe(t),function(){i.splice(i.indexOf(e),1),i.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),R.delete(o))}}function G({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:o,triggerOnce:s,skip:a,initialInView:i,fallbackInView:c,onChange:h}={}){var f;const[g,I]=v.useState(null),b=v.useRef(h),[p,w]=v.useState({inView:!!i,entry:void 0});b.current=h,v.useEffect(()=>{if(a||!g)return;let d;return d=F(g,(V,y)=>{w({inView:V,entry:y}),b.current&&b.current(V,y),y.isIntersecting&&s&&d&&(d(),d=void 0)},{root:o,rootMargin:n,threshold:t,trackVisibility:r,delay:e},c),()=>{d&&d()}},[Array.isArray(t)?t.toString():t,g,o,n,s,a,r,c,e]);const m=(f=p.entry)==null?void 0:f.target,E=v.useRef(void 0);!g&&m&&!s&&!a&&E.current!==m&&(E.current=m,w({inView:!!i,entry:void 0}));const u=[I,p.inView,p.entry];return u.ref=u[0],u.inView=u[1],u.entry=u[2],u}function K({children:t,id:e,className:r}){const n=z(),[o,s]=G({threshold:.1,triggerOnce:!0});return v.useEffect(()=>{s&&n.start("visible")},[n,s]),x.jsx(M.section,{id:e,className:r,ref:o,initial:"hidden",animate:n,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},children:t})}export{K as A};
