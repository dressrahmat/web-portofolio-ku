import{j as e,u as B,r as x,a as $,b as z,H as U,z as W,A as H,e as J,B as q,C as K,D as Y,E as V,G as Q,I as Z,J as ee,K as ae,M as se,q as re,g as te,F as le,c as F}from"./app-Cvucz7kI.js";import{A as oe}from"./AdminLayout-T-97QMqi.js";import{T as c,I as d}from"./InputError-Bckp8oRp.js";import{I as i}from"./InputLabel-BWLOheBB.js";import{P as ne}from"./PrimaryButton-CTDxlp8O.js";function _({enabled:s,onChange:r}){return e.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${s?"bg-primary-600":"bg-neutral-200 dark:bg-neutral-600"}`,onClick:()=>r(!s),children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})}function he({settings:s}){const{data:r,setData:t,errors:o,put:X,processing:w,reset:ie}=B({site_name:s.site_name||"",site_description:s.site_description||"",contact_email:s.contact_email||"",contact_phone:s.contact_phone||"",address:s.address||"",site_logo:null,site_favicon:null,og_image:null,google_analytics_id:s.google_analytics_id||"",google_analytics_enabled:s.google_analytics_enabled||!1,google_tag_manager_id:s.google_tag_manager_id||"",google_tag_manager_enabled:s.google_tag_manager_enabled||!1,facebook_pixel_id:s.facebook_pixel_id||"",facebook_pixel_enabled:s.facebook_pixel_enabled||!1,google_adsense_id:s.google_adsense_id||"",google_adsense_code:s.google_adsense_code||"",google_adsense_enabled:s.google_adsense_enabled||!1,facebook_url:s.facebook_url||"",twitter_url:s.twitter_url||"",instagram_url:s.instagram_url||"",youtube_url:s.youtube_url||"",linkedin_url:s.linkedin_url||"",meta_keywords:s.meta_keywords||"",meta_author:s.meta_author||"",header_scripts:s.header_scripts||"",body_scripts:s.body_scripts||"",footer_scripts:s.footer_scripts||"",maintenance_mode:s.maintenance_mode||!1,maintenance_message:s.maintenance_message||""}),[C,k]=x.useState(s.site_logo?`/storage/${s.site_logo}`:null),[I,y]=x.useState(s.site_favicon?`/storage/${s.site_favicon}`:null),[P,N]=x.useState(s.og_image?`/storage/${s.og_image}`:null),S=x.useRef(null),M=x.useRef(null),G=x.useRef(null),{success:h,error:m}=$(),{props:R}=z(),p=R.flash||{};x.useEffect(()=>{p.success&&h(p.success),p.error&&m(p.error)},[p]);const E=async a=>{const l=new FormData;l.append("site_logo",a);try{const n=await axios.post(route("admin.settings.upload-logo"),l,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success)return h("Logo uploaded successfully!"),n.data.path}catch(n){throw m("Failed to upload logo"),n}},T=async a=>{const l=new FormData;l.append("site_favicon",a);try{const n=await axios.post(route("admin.settings.upload-favicon"),l,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success)return h("Favicon uploaded successfully!"),n.data.path}catch(n){throw m("Failed to upload favicon"),n}},A=async a=>{const l=new FormData;l.append("og_image",a);try{const n=await axios.post(route("admin.settings.upload-og-image"),l,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success)return h("OG Image uploaded successfully!"),n.data.path}catch(n){throw m("Failed to upload OG Image"),n}},b=async(a,l)=>{if(!a)return;if(!a.type.startsWith("image/")){m("Please select an image file");return}const n=l==="favicon"?1*1024*1024:2*1024*1024;if(a.size>n){m(`Image size must be less than ${n/1024/1024}MB`);return}if(l==="favicon"&&!a.type.includes("ico")&&!a.type.includes("png")){m("Favicon must be in ICO or PNG format");return}try{let u;switch(l){case"logo":u=await E(a);break;case"favicon":u=await T(a);break;case"og_image":u=await A(a);break}const g=URL.createObjectURL(a);switch(l){case"logo":k(g);break;case"favicon":y(g);break;case"og_image":N(g);break}}catch(u){console.error("Upload error:",u)}},f=async a=>{try{switch(await te.delete(route("admin.settings.removeImage",{type:a})),a){case"logo":k(null),t("site_logo",null);break;case"favicon":y(null),t("site_favicon",null);break;case"og_image":N(null),t("og_image",null);break}h(`${a.replace("_"," ")} removed successfully!`)}catch{m(`Failed to remove ${a}`)}},L=a=>{a.preventDefault(),X(route("admin.settings.update"),{data:{...r,google_analytics_enabled:r.google_analytics_enabled?1:0,google_tag_manager_enabled:r.google_tag_manager_enabled?1:0,facebook_pixel_enabled:r.facebook_pixel_enabled?1:0,google_adsense_enabled:r.google_adsense_enabled?1:0,maintenance_mode:r.maintenance_mode?1:0},onSuccess:()=>{h("Settings updated successfully!"),t("site_logo",null),t("site_favicon",null),t("og_image",null)},onError:l=>{m("Failed to update settings. Please check the form.")}})},v=({title:a,preview:l,onFileChange:n,onRemove:u,inputRef:g,type:de,accept:D,description:O})=>e.jsxs("div",{children:[e.jsx(i,{value:a}),e.jsxs("div",{className:"flex items-center gap-6 mt-2",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-neutral-300 dark:border-neutral-600 bg-neutral-50 dark:bg-neutral-700 flex items-center justify-center cursor-pointer hover:border-neutral-400 dark:hover:border-neutral-500 transition-colors",onClick:()=>g.current?.click(),children:l?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:l,alt:a,className:"w-full h-full rounded-lg object-cover"}),e.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),u()},className:"absolute -top-2 -right-2 bg-error-500 text-white rounded-full p-1 hover:bg-error-600 transition-colors",children:e.jsx(le,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"w-8 h-8 text-neutral-400 mx-auto mb-1"}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Upload"})]})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:O}),e.jsxs("button",{type:"button",onClick:()=>g.current?.click(),className:"inline-flex items-center px-4 py-2 bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-md font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-neutral-800 text-sm",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Select ",a]})]})]}),e.jsx("input",{ref:g,type:"file",accept:D,onChange:j=>n(j.target.files[0]),className:"hidden"})]});return e.jsxs(oe,{title:"Website Settings",children:[e.jsx(U,{title:"Website Settings"}),e.jsx("div",{className:"mx-auto px-1 lg:px-4 lg:pt-2",children:e.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl shadow-card p-6 sm:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[e.jsx(W,{className:"w-6 h-6"}),"Website Settings"]}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Manage your website configuration, analytics, and marketing integrations."})]}),e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"site_name",value:"Site Name",required:!0}),e.jsx(c,{id:"site_name",value:r.site_name,onChange:a=>t("site_name",a.target.value),error:o.site_name,placeholder:"Enter site name"}),e.jsx(d,{message:o.site_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contact_email",value:"Contact Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"contact_email",type:"email",value:r.contact_email,onChange:a=>t("contact_email",a.target.value),error:o.contact_email,placeholder:"Enter contact email",className:"pl-10"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(J,{className:"h-5 w-5 text-primary-400"})})]}),e.jsx(d,{message:o.contact_email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contact_phone",value:"Contact Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"contact_phone",value:r.contact_phone,onChange:a=>t("contact_phone",a.target.value),error:o.contact_phone,placeholder:"Enter contact phone",className:"pl-10"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(q,{className:"h-5 w-5 text-primary-400"})})]}),e.jsx(d,{message:o.contact_phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"site_description",value:"Site Description"}),e.jsx("textarea",{id:"site_description",value:r.site_description,onChange:a=>t("site_description",a.target.value),rows:3,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-neutral-600 dark:text-white",placeholder:"Enter site description"}),e.jsx(d,{message:o.site_description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"address",value:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{id:"address",value:r.address,onChange:a=>t("address",a.target.value),rows:2,className:"w-full px-4 py-2 pl-10 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-neutral-600 dark:text-white",placeholder:"Enter address"}),e.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:e.jsx(K,{className:"h-5 w-5 text-primary-400"})})]}),e.jsx(d,{message:o.address})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Logo & Images"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(v,{title:"Site Logo",preview:C,onFileChange:a=>b(a,"logo"),onRemove:()=>f("logo"),inputRef:S,type:"logo",accept:"image/*",description:"Recommended: 200x200px PNG/JPG (max 2MB)"}),e.jsx(v,{title:"Favicon",preview:I,onFileChange:a=>b(a,"favicon"),onRemove:()=>f("favicon"),inputRef:M,type:"favicon",accept:".ico,.png",description:"Recommended: 32x32px ICO/PNG (max 1MB)"}),e.jsx(v,{title:"OG Image",preview:P,onFileChange:a=>b(a,"og_image"),onRemove:()=>f("og_image"),inputRef:G,type:"og_image",accept:"image/*",description:"Recommended: 1200x630px PNG/JPG (max 2MB)"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"Analytics & Marketing"]}),e.jsxs("div",{className:"mb-6 p-4 border border-neutral-200 dark:border-neutral-600 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:"Google Analytics"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Track website traffic and user behavior"})]}),e.jsx(_,{enabled:r.google_analytics_enabled,onChange:a=>t("google_analytics_enabled",a)})]}),r.google_analytics_enabled&&e.jsx(c,{value:r.google_analytics_id,onChange:a=>t("google_analytics_id",a.target.value),placeholder:"G-XXXXXXXXXX",error:o.google_analytics_id})]}),e.jsxs("div",{className:"mb-6 p-4 border border-neutral-200 dark:border-neutral-600 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:"Google Tag Manager"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Manage marketing tags"})]}),e.jsx(_,{enabled:r.google_tag_manager_enabled,onChange:a=>t("google_tag_manager_enabled",a)})]}),r.google_tag_manager_enabled&&e.jsx(c,{value:r.google_tag_manager_id,onChange:a=>t("google_tag_manager_id",a.target.value),placeholder:"GTM-XXXXXX",error:o.google_tag_manager_id})]}),e.jsxs("div",{className:"mb-6 p-4 border border-neutral-200 dark:border-neutral-600 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:"Facebook Pixel"}),e.jsx("p",{className:"text-sm text-native-600 dark:text-native-400",children:"Track Facebook ad conversions"})]}),e.jsx(_,{enabled:r.facebook_pixel_enabled,onChange:a=>t("facebook_pixel_enabled",a)})]}),r.facebook_pixel_enabled&&e.jsx(c,{value:r.facebook_pixel_id,onChange:a=>t("facebook_pixel_id",a.target.value),placeholder:"XXXXXXXXXXXXXXX",error:o.facebook_pixel_id})]}),e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-600 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:"Google Adsense"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Display ads on your website"})]}),e.jsx(_,{enabled:r.google_adsense_enabled,onChange:a=>t("google_adsense_enabled",a)})]}),r.google_adsense_enabled&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{value:r.google_adsense_id,onChange:a=>t("google_adsense_id",a.target.value),placeholder:"pub-XXXXXXXXXXXXXXXX",error:o.google_adsense_id}),e.jsxs("div",{children:[e.jsx(i,{value:"Adsense Code"}),e.jsx("textarea",{value:r.google_adsense_code,onChange:a=>t("google_adsense_code",a.target.value),rows:4,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-neutral-600 dark:text-white",placeholder:"Paste your Adsense code here"}),e.jsx(d,{message:o.google_adsense_code})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Social Media Links"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"facebook_url",icon:V,label:"Facebook",placeholder:"https://facebook.com/yourpage"},{key:"twitter_url",icon:Q,label:"Twitter",placeholder:"https://twitter.com/yourhandle"},{key:"instagram_url",icon:Z,label:"Instagram",placeholder:"https://instagram.com/yourhandle"},{key:"youtube_url",icon:ee,label:"YouTube",placeholder:"https://youtube.com/yourchannel"},{key:"linkedin_url",icon:ae,label:"LinkedIn",placeholder:"https://linkedin.com/company/yourcompany"}].map(({key:a,icon:l,label:n,placeholder:u})=>e.jsxs("div",{children:[e.jsx(i,{htmlFor:a,value:n}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:a,type:"url",value:r[a],onChange:g=>t(a,g.target.value),error:o[a],placeholder:u,className:"pl-10"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(l,{className:"h-5 w-5 text-primary-400"})})]}),e.jsx(d,{message:o[a]})]},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"SEO Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"meta_keywords",value:"Meta Keywords"}),e.jsx(c,{id:"meta_keywords",value:r.meta_keywords,onChange:a=>t("meta_keywords",a.target.value),error:o.meta_keywords,placeholder:"keyword1, keyword2, keyword3"}),e.jsx(d,{message:o.meta_keywords})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"meta_author",value:"Meta Author"}),e.jsx(c,{id:"meta_author",value:r.meta_author,onChange:a=>t("meta_author",a.target.value),error:o.meta_author,placeholder:"Author name"}),e.jsx(d,{message:o.meta_author})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Custom Scripts"]}),["header_scripts","body_scripts","footer_scripts"].map(a=>e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:a,value:a.replace("_"," ").replace(/\b\w/g,l=>l.toUpperCase())}),e.jsx("textarea",{id:a,value:r[a],onChange:l=>t(a,l.target.value),rows:4,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-neutral-600 dark:text-white font-mono text-sm",placeholder:`Paste your ${a.replace("_"," ")} here`}),e.jsx(d,{message:o[a]})]},a))]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-700/50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5"}),"Maintenance Mode"]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Put your website in maintenance mode"})]}),e.jsx(_,{enabled:r.maintenance_mode,onChange:a=>t("maintenance_mode",a)})]}),r.maintenance_mode&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"maintenance_message",value:"Maintenance Message"}),e.jsx("textarea",{id:"maintenance_message",value:r.maintenance_message,onChange:a=>t("maintenance_message",a.target.value),rows:3,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-neutral-600 dark:text-white",placeholder:"We'll be back soon! Our website is currently under maintenance."}),e.jsx(d,{message:o.maintenance_message})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-neutral-200 dark:border-neutral-700",children:e.jsx(ne,{type:"submit",disabled:w,className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 focus:ring-primary-500",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})})]})]})})]})}export{he as default};
